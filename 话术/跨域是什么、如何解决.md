- jsonp 缺点
### 同源策略

|名称|举例|
|---|---|
|协议|http、https|
|域名|github.com|
|端口|80、443|

> http 默认 80 接口，https 默认 443 接口

协议、域名、端口一致的情况下，才属于同源。

同源策略主要是为了保证用户信息的安全。分为 `Ajax` 同源和 `DOM` 同源。

- `Ajax` 同源：不同源接口不能获取 `Cookie` 发起 `Ajax` 请求，防止 `CSRF` 攻击
- `DOM` 同源：不同源页面不能获取 `DOM`，防止 `iframe` 恶意嵌入

### 跨域方式
#### JSONP
利用 <script> 标签没有跨域限制的漏洞

- Ajax 和 JSONP 都是客户端向服务端发送请求，从而获取数据的方式。但是 Ajax 属于同源策略，而 JSONP 属于非同源策略。
- 兼容性好，能解决主流浏览器跨域访问的问题。
- 仅支持 get 请求
- 不安全，可能会遭受 XSS 攻击。

#### CORS

浏览器会自动进行 `CORS` 通信，实现 `CORS` 通信的关键是后端。只要后端实现了 `CORS`，就实现了跨域。
服务端设置 `Access-Control-Allow-Origin` 就可以开启 `CORS`。

#### postMessage

解决下面的问题：
- 页面和其打开的新窗口的数据传递
- 多窗口之间消息传递
- 页面与嵌套的 iframe 消息传递
- 上面三个场景的跨域数据传递

`postMessage()` 方法允许来自不同源的脚本采用异步方式进行有限的通信，可以实现跨文本档、多窗口、跨域消息传递。

#### WebSocket

#### Node
Node 中间件

#### Nginx
使用 `Nginx` 反向代理实现跨域，是最简单的跨域方式。

只需要修改 `Nginx` 的配置即可解决跨域问题，支持所有浏览器，支持 `Session`，不需要修改任何代码，并且不会影响服务器性能。
